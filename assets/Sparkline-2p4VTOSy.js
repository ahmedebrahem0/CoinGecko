import{r as i,j as f}from"./index-Dcze-UMS.js";import{c as T,s as X,a as Y,b as J,d as pe,e as fe,i as he,g as V,r as U,u as q,R as ve,S as me,f as ye,h as xe,j as H,k as ge,l as Pe,m as Ae,n as be,G as Ie,o as Q,p as W,q as Z,L as ee,t as Ee,A as je,v as te,w as M,x as z,y as Ce,J as ke,z as O,C as De,B as Oe,D as we,E as Se,F as Le,H as Ne,I as Re,K as _e,X as Te,Y as We,M as Be,T as Ke}from"./CartesianChart-CARsvmk3.js";var Fe=["children"];function $e(e,t){if(e==null)return{};var r,a,n=Ve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ve(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Me={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ze=i.createContext(Me);function Ge(e){var{children:t}=e,r=$e(e,Fe);return i.createElement(ze.Provider,{value:r},t)}var ae=(e,t,r,a)=>Y(e,"xAxis",t,a),re=(e,t,r,a)=>J(e,"xAxis",t,a),ne=(e,t,r,a)=>Y(e,"yAxis",r,a),ie=(e,t,r,a)=>J(e,"yAxis",r,a),Xe=T([X,ae,ne,re,ie],(e,t,r,a,n)=>he(e,"xAxis")?V(t,a,!1):V(r,n,!1)),Ye=(e,t,r,a,n)=>n;function Je(e){return e.type==="line"}var Ue=T([fe,Ye],(e,t)=>e.filter(Je).find(r=>r.id===t)),qe=T([X,ae,ne,re,ie,Ue,Xe,pe],(e,t,r,a,n,o,u,p)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=p;if(!(o==null||t==null||r==null||a==null||n==null||a.length===0||n.length===0||u==null)){var{dataKey:v,data:c}=o,y;if(c!=null&&c.length>0?y=c:y=d?.slice(h,m+1),y!=null)return yt({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:v,bandSize:u,displayedData:y})}}),He=["id"],Qe=["type","layout","connectNulls","needClip"],Ze=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(a){et(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function et(e,t,r){return(t=tt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e){var t=at(e,"string");return typeof t=="symbol"?t:t+""}function at(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B(e,t){if(e==null)return{};var r,a,n=rt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rt(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k.apply(null,arguments)}var nt=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:o}=e;return[{inactive:o,dataKey:t,type:n,color:a,value:H(r,t),payload:e}]};function it(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:o,name:u,hide:p,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:o,dataKey:t,nameKey:void 0,name:H(u,t),hide:p,type:e.tooltipType,color:e.stroke,unit:d}}}var oe=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function ot(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}var st=(e,t,r)=>{var a=r.reduce((v,c)=>v+c);if(!a)return oe(t,e);for(var n=Math.floor(e/a),o=e%a,u=t-e,p=[],d=0,h=0;d<r.length;h+=r[d],++d)if(h+r[d]>o){p=[...r.slice(0,d),o-h];break}var m=p.length%2===0?[0,u]:[u];return[...ot(r,n),...p,...m].map(v=>"".concat(v,"px")).join(", ")};function lt(e,t){var r;if(i.isValidElement(e))r=i.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Q("recharts-line-dot",typeof e!="boolean"?e.className:"");r=i.createElement(Se,k({},t,{className:a}))}return r}function ct(e,t){return e==null?!1:t?!0:e.length===1}function ut(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:o,needClip:u}=a;if(!ct(r,n))return null;var{id:p}=a,d=B(a,He),h=Z(n),m=we(d),v=W(n,!0),c=r.map((s,l)=>{var x=b(b(b({key:"dot-".concat(l),r:3},m),v),{},{index:l,cx:s.x,cy:s.y,dataKey:o,value:s.value,payload:s.payload,points:r});return lt(n,x)}),y={clipPath:u?"url(#clipPath-".concat(h?"":"dots-").concat(t,")"):void 0};return i.createElement(ee,k({className:"recharts-line-dots",key:"dots"},y),c)}function _(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:o,showLabels:u}=e,{type:p,layout:d,connectNulls:h,needClip:m}=o,v=B(o,Qe),c=b(b({},W(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:a,type:p,layout:d,connectNulls:h,strokeDasharray:n??o.strokeDasharray});return i.createElement(i.Fragment,null,a?.length>1&&i.createElement(De,k({},c,{pathRef:r})),i.createElement(ut,{points:a,clipPathId:t,props:o}),u&&Oe.renderCallByParent(o,a))}function dt(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function pt(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:p,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:v,animateNewValues:c,width:y,height:s,onAnimationEnd:l,onAnimationStart:x}=r,P=n.current,I=Ce(r,"recharts-line-"),[g,D]=i.useState(!1),j=i.useCallback(()=>{typeof l=="function"&&l(),D(!1)},[l]),L=i.useCallback(()=>{typeof x=="function"&&x(),D(!0)},[x]),C=dt(a.current),w=o.current;return i.createElement(ke,{begin:h,duration:m,isActive:d,easing:v,onAnimationEnd:j,onAnimationStart:L,key:I},E=>{var N=O(w,C+w,E),R=Math.min(N,C),S;if(p){var ce="".concat(p).split(/[,\s]+/gim).map(A=>parseFloat(A));S=st(R,C,ce)}else S=oe(C,R);if(P){var ue=P.length/u.length,K=E===1?u:u.map((A,de)=>{var F=Math.floor(de*ue);if(P[F]){var $=P[F];return b(b({},A),{},{x:O($.x,A.x,E),y:O($.y,A.y,E)})}return c?b(b({},A),{},{x:O(y*2,A.x,E),y:O(s/2,A.y,E)}):b(b({},A),{},{x:A.x,y:A.y})});return n.current=K,i.createElement(_,{props:r,points:K,clipPathId:t,pathRef:a,showLabels:!g,strokeDasharray:S})}return E>0&&C>0&&(n.current=u,o.current=R),i.createElement(_,{props:r,points:u,clipPathId:t,pathRef:a,showLabels:!g,strokeDasharray:S})})}function ft(e){var{clipPathId:t,props:r}=e,{points:a,isAnimationActive:n}=r,o=i.useRef(null),u=i.useRef(0),p=i.useRef(null),d=o.current;return n&&a&&a.length&&d!==a?i.createElement(pt,{props:r,clipPathId:t,previousPointsRef:o,longestAnimatedLengthRef:u,pathRef:p}):i.createElement(_,{props:r,points:a,clipPathId:t,pathRef:p,showLabels:!0})}var ht=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:te(e.payload,t)});class vt extends i.Component{render(){var t,{hide:r,dot:a,points:n,className:o,xAxisId:u,yAxisId:p,top:d,left:h,width:m,height:v,id:c,needClip:y}=this.props;if(r)return null;var s=Q("recharts-line",o),l=c,{r:x=3,strokeWidth:P=2}=(t=W(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},I=Z(a),g=x*2+P;return i.createElement(i.Fragment,null,i.createElement(ee,{className:s},y&&i.createElement("defs",null,i.createElement(Ee,{clipPathId:l,xAxisId:u,yAxisId:p}),!I&&i.createElement("clipPath",{id:"clipPath-dots-".concat(l)},i.createElement("rect",{x:h-g/2,y:d-g/2,width:m+g,height:v+g}))),i.createElement(ft,{props:this.props,clipPathId:l}),i.createElement(Ge,{xAxisId:u,yAxisId:p,data:n,dataPointFormatter:ht,errorBarOffset:0},this.props.children)),i.createElement(je,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var se={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ie.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function mt(e){var t=U(e,se),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:o,animationEasing:u,connectNulls:p,dot:d,hide:h,isAnimationActive:m,label:v,legendType:c,xAxisId:y,yAxisId:s,id:l}=t,x=B(t,Ze),{needClip:P}=ge(y,s),I=Pe(),g=Ae(),D=q(),j=be(N=>qe(N,y,s,D,l));if(g!=="horizontal"&&g!=="vertical"||j==null||I==null)return null;var{height:L,width:C,x:w,y:E}=I;return i.createElement(vt,k({},x,{id:l,connectNulls:p,dot:d,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:o,animationEasing:u,isAnimationActive:m,hide:h,label:v,legendType:c,xAxisId:y,yAxisId:s,points:j,layout:g,height:L,width:C,left:w,top:E,needClip:P}))}function yt(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:o,dataKey:u,bandSize:p,displayedData:d}=e;return d.map((h,m)=>{var v=te(h,u);if(t==="horizontal"){var c=M({axis:r,ticks:n,bandSize:p,entry:h,index:m}),y=z(v)?null:a.scale(v);return{x:c,y,value:v,payload:h}}var s=z(v)?null:r.scale(v),l=M({axis:a,ticks:o,bandSize:p,entry:h,index:m});return s==null||l==null?null:{x:s,y:l,value:v,payload:h}}).filter(Boolean)}function le(e){var t=U(e,se),r=q();return i.createElement(ve,{id:t.id,type:"line"},a=>i.createElement(i.Fragment,null,i.createElement(me,{legendPayload:nt(t)}),i.createElement(ye,{fn:it,args:t}),i.createElement(xe,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),i.createElement(mt,k({},t,{id:a}))))}le.displayName="Line";var xt=["axis"],gt=i.forwardRef((e,t)=>i.createElement(Le,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xt,tooltipPayloadSearcher:Ne,categoricalChartProps:e,ref:t}));const bt=({data:e,color:t,width:r=130,height:a=32,showGrid:n=!1,showTooltip:o=!1})=>{const u="#4299e1",p=s=>!s||!Array.isArray(s)?null:typeof s[0]=="number"?s.map((l,x)=>({index:x,value:l,formattedValue:d(l)})):Array.isArray(s[0])&&s[0].length===2?s.map(([l,x],P)=>({index:P,value:x,formattedValue:d(x),timestamp:new Date(l).toLocaleDateString()})):null,d=s=>s>=1?`$${s.toFixed(2)}`:s>=.01?`$${s.toFixed(4)}`:`$${s.toFixed(6)}`,h=()=>{const s=Math.random()*100+50,l=.15,x=Math.random()>.5?1:-1;return Array.from({length:20},(P,I)=>{const g=(Math.random()-.5)*2*l,D=I/19*l*x*.5,j=s*(1+g+D);return{index:I,value:Math.max(j,1),formattedValue:d(Math.max(j,1))}})},m=p(e)||h(),c=(()=>{if(m.length<2)return t||u;const s=m[0]?.value||0,l=m[m.length-1]?.value||0;return l>s?"#10B981":l<s?"#EF4444":t||u})(),y=({active:s,payload:l,label:x})=>s&&l&&l.length?f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l[0]?.payload?.timestamp||`Point ${x}`}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Price: ",l[0]?.payload?.formattedValue||l[0]?.value]})]}):null;return f.jsxs("div",{className:"relative group",children:[f.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-gray-200 transition-all duration-300 group-hover:shadow-lg group-hover:scale-105",style:{width:r,height:a,backgroundColor:"var(--bg-card)",borderColor:"var(--border-color)"},children:[f.jsx(Re,{width:"100%",height:"100%",children:f.jsxs(gt,{data:m,margin:{top:2,right:2,bottom:2,left:2},children:[n&&f.jsx(_e,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.3,vertical:!1}),n&&f.jsx(Te,{dataKey:"index",hide:!0,axisLine:!1,tickLine:!1}),n&&f.jsx(We,{hide:!0,axisLine:!1,tickLine:!1,domain:["dataMin - 1","dataMax + 1"]}),f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:`gradient-${c.replace("#","")}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:c,stopOpacity:.4}),f.jsx("stop",{offset:"50%",stopColor:c,stopOpacity:.2}),f.jsx("stop",{offset:"95%",stopColor:c,stopOpacity:.05})]}),f.jsxs("linearGradient",{id:`line-gradient-${c.replace("#","")}`,x1:"0",y1:"0",x2:"1",y2:"0",children:[f.jsx("stop",{offset:"0%",stopColor:c,stopOpacity:.8}),f.jsx("stop",{offset:"100%",stopColor:c,stopOpacity:1})]})]}),f.jsx(Be,{type:"monotone",dataKey:"value",stroke:"none",fill:`url(#gradient-${c.replace("#","")})`,fillOpacity:.8}),f.jsx(le,{type:"monotone",dataKey:"value",stroke:`url(#line-gradient-${c.replace("#","")})`,strokeWidth:2.5,dot:!1,activeDot:{r:5,stroke:c,strokeWidth:2,fill:"white",strokeDasharray:"3 3"},connectNulls:!0,animationDuration:1500,animationEasing:"ease-out"}),o&&f.jsx(Ke,{content:f.jsx(y,{}),cursor:{stroke:c,strokeWidth:1,strokeDasharray:"3 3"}})]})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),e&&e.length>1&&f.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:c}})]})};export{bt as S};
